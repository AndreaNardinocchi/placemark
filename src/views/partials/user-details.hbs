<section class = "box has-background-dark">
  <section class = "content p-6">
    <p class = "title has-text-white has-text-centered ">
      - User Profile -
    </p>
  </section>
</section>
<section class="section">
  <div class="container">
  <div class="columns ">
  <div class="column is-6 pr-6">
    <div class="about-avatar is-size-5">
      <img src = "https://bootdey.com/img/Content/avatar/avatar7.png"; class = "mb-6" title="" alt="" />
      <p class = "is-size-4 pb-2">Hi <span class = "has-text-weight-bold">{{firstName}}</span>!!</p>
      <p>Welcome to your user profile page!</p>
      <p>Please, take a moment to check your details in the box...</p>
    </div>
  </div>
  <div class = "column is-6 is-size-5 box p-6">
  <p class="subtitle is-1 has-text-weight-bold">{{firstName}}'s account</p>
  <hr>
  <div class="columns">
    <div class = "column is-6 is-size-6">
      <p><span class=" has-text-weight-bold">First Name:</span><br> {{firstName}} </p>
      <hr>
      <p><span class="has-text-weight-bold">Last Name:</span><br> {{lastName}} </p>
      <hr>
      <p><span class="has-text-weight-bold">Gender:</span><br> {{gender}} </p>
      <hr>
      <p><span class="has-text-weight-bold">Country:</span><br> {{country}} </p>
      <hr>
      <p><span class="has-text-weight-bold">Street:</span><br> {{street}} </p>
    </div>
    <div class = "column is-6 is-size-6">
      <p><span class="has-text-weight-bold">Address code:</span><br> {{addressCode}} </p>
      <hr>
      <p><span class="has-text-weight-bold">Date of birth:</span><br> {{DOB}} </p>
      <hr>
      <p><span class="has-text-weight-bold">Phone number:</span><br> {{phoneNumber}} </p>
      <hr>
      <p><span class="has-text-weight-bold">Email:</span><br><span style = "word-wrap: break-word;"> {{email}} </span>  </p>
      <hr>
      <p><span class="has-text-weight-bold">Password:</span><br> {{password}} </p>
    </div>
  </div>
  <div class = "pt-6">
  <a class = "button is-danger m-2 " href="/account/deleteuser/{{_id}}" class="button">
  Delete account
  </a>
  {{!-- <a class = "button is-light m-2 js-modal-trigger" data-target="modal-js-example"  >
  Update account
  </a--> --}}
  <button class="button is-light m-2 js-modal-trigger" data-target="modal-js-example">
  Update account
  </button>
  <div id="modal-js-example" class="modal">
  <div class="modal-background"></div>
  <div class="modal-content">
    <div class="box">
      <p>Update your details</p>
      <!-- Your content -->
      <section class = "column is-12  pt-2">
         <form class="box" action="/account/updateuser/" method="POST">
    <div class="field is-horizontal">
      <div class="field-body">
        <div class="field">
          <label class="label">Country</label><input class ="input mr-3" type="text" name="country" placeholder = "Enter your country" list="country" value="{{country}}">
          <datalist id="country">
            <option value="Spain">Spain</option>
            <option value="Italy">Italy</option>
            <option value="United States" >United States</option>
            <option value="Portugal">Portugal</option>
            <option value="Canada" >Canada</option>
          </datalist>
        </div>
        <div class="field">
          <label class="label">Street</label><input class="input" type="text" placeholder="Enter your street" name="street" value="{{street}}">
        </div>
        </div>
        </div>
        <div class="field is-horizontal">
      <div class="field-body">
        <div class="field">
          <label class="label">Address Code</label><input class="input" type="text" placeholder="Enter your address code" name="addressCode" value="{{addressCode}}">
        </div>
        <div class="field">
          <label class="label">Phone number</label><input class="input" type="text" placeholder="Enter your phone number" name="phoneNumber" value="{{phoneNumber}}">
        </div>
      </div>
 
     
    </div>
    <div class="field is-horizontal">
      <div class="field-body">
    <div class="field">
      <label class="label">Email</label><input class="input" type="text" placeholder="Enter email" name="email" value="{{email}}"/>
    </div>
    <div class="field">
      <label class="label">Password</label><input class="input" type="password" placeholder="Enter Password" name="password" value="{{password}}"/>
    </div>
    </div>
    </div>
    <div class="field is-grouped">
      <button class="button is-link">Update User</button>
    </div>
  </form>
      </section>
      </div>
    </div>
    <button class="modal-close is-large" aria-label="close"></button>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
    // Functions to open and close a modal
    function openModal($el) {
      $el.classList.add('is-active');
    }
    
    function closeModal($el) {
      $el.classList.remove('is-active');
    }
    
    function closeAllModals() {
      (document.querySelectorAll('.modal') || []).forEach(($modal) => {
        closeModal($modal);
      });
    }
    
    // Add a click event on buttons to open a specific modal
    (document.querySelectorAll('.js-modal-trigger') || []).forEach(($trigger) => {
      const modal = $trigger.dataset.target;
      const $target = document.getElementById(modal);
    
      $trigger.addEventListener('click', () => {
        openModal($target);
      });
    });
    
    // Add a click event on various child elements to close the parent modal
    (document.querySelectorAll('.modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button') || []).forEach(($close) => {
      const $target = $close.closest('.modal');
    
      $close.addEventListener('click', () => {
        closeModal($target);
      });
    });
    
    // Add a keyboard event to close all modals
    document.addEventListener('keydown', (event) => {
      if(event.key === "Escape") {
        closeAllModals();
      }
    });
    });
  </script>
</section>